(window.location.pathname.includes("/resources")||window.location.pathname.includes("/file"))&&$(document).ready(e=>{$(document).keydown(function(e){e.ctrlKey&&e.shiftKey&&73==e.keyCode&&e.preventDefault()}),$("body").on("contextmenu",e=>!1)});const select=(e,t=!1)=>(e=e.trim(),t?[...document.querySelectorAll(e)]:document.querySelector(e)),on=(e,t,a,s=!1)=>{let n=select(t,s);n&&(s?n.forEach(t=>t.addEventListener(e,a)):n.addEventListener(e,a))},onscroll=(e,t)=>{e.addEventListener("scroll",t)};let navbarlinks=[...$("#navbar .scrollto")];const navbarlinksActive=()=>{let e=window.scrollY+200;navbarlinks.forEach(t=>{if(!t.hash)return;let a=select(t.hash);a&&(e>=a.offsetTop&&e<=a.offsetTop+a.offsetHeight?t.classList.add("active"):t.classList.remove("active"))})};window.addEventListener("load",navbarlinksActive),onscroll(document,navbarlinksActive);const scrollto=e=>{let t=select("#header"),a=t.offsetHeight;t.classList.contains("header-scrolled")||(a-=20);let s=select(e).offsetTop;window.scrollTo({top:s-a,behavior:"smooth"})};let selectHeader=select("#header");if(selectHeader){const e=()=>{window.scrollY>100?selectHeader.classList.add("header-scrolled"):selectHeader.classList.remove("header-scrolled")};window.addEventListener("load",e),onscroll(document,e)}let backtotop=select(".back-to-top");if(backtotop){const e=()=>{window.scrollY>100?backtotop.classList.add("active"):backtotop.classList.remove("active")};window.addEventListener("load",e),onscroll(document,e)}on("click",".mobile-nav-toggle",function(e){select("#navbar").classList.toggle("navbar-mobile"),this.classList.toggle("bi-list"),this.classList.toggle("bi-x")}),on("click",".navbar .dropdown > a",function(e){select("#navbar").classList.contains("navbar-mobile")&&(e.preventDefault(),this.nextElementSibling.classList.toggle("dropdown-active"))},!0),on("click",".scrollto",function(e){if(select(this.hash)){e.preventDefault();let t=select("#navbar");if(t.classList.contains("navbar-mobile")){t.classList.remove("navbar-mobile");let e=select(".mobile-nav-toggle");e.classList.toggle("bi-list"),e.classList.toggle("bi-x")}scrollto(this.hash)}},!0),window.addEventListener("load",()=>{window.location.hash&&select(window.location.hash)&&scrollto(window.location.hash)}),new Swiper(".testimonials-slider",{speed:600,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},slidesPerView:"auto",pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},1200:{slidesPerView:2,spaceBetween:20}}}),window.addEventListener("load",()=>{AOS.init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1})}),$("#conpassword").on("keyup",e=>{$("#password").val()!=$("#conpassword").val()?$("#conpassword").addClass("is-invalid"):$("#conpassword").removeClass("is-invalid")});const toast=(e,t,a=!1)=>{const s={timeOut:8e3};"s"==e?toastr.success(t,s):"e"==e?a?toastr.error(t,s):toastr.error(`Error: ${t}\nPlease retry`,s):(e="w")&&toastr.warning(t,s)},firebaseConfig={apiKey:"AIzaSyBk6YbibhzV6ZNI3x7Gt6v35MjuyfTKkDI",authDomain:"study-site-39229.firebaseapp.com",projectId:"study-site-39229",storageBucket:"study-site-39229.appspot.com",messagingSenderId:"259094942872",appId:"1:259094942872:web:23b4aa180d5adfdfc5aced",measurementId:"G-6C26YRQHP1"};0===firebase.apps.length&&firebase.initializeApp(firebaseConfig);const auth=new firebase.auth,storage=firebase.storage(),db=firebase.firestore();db.settings({timestampsInSnapshots:!0});const userRef=db.collection("users"),resourcesRef=db.collection("resources"),provider=new firebase.auth.GoogleAuthProvider,fieldValue=firebase.firestore.FieldValue,addToStorage=async(e,t,a="user")=>{if("user"==a){const a=storage.ref("UserFiles");try{storage.ref(e).listAll().then(e=>{e.items.map(e=>e.delete())})}catch(e){console.log(e.message)}finally{try{const s="Avatar_"+(new Date).getTime()+". "+t.type.split("/")[1],n=a.child(e+s);return await n.put(t),await n.getDownloadURL()}catch(e){console.log(e)}}}else if("files"==a){const a=storage.ref("Resources");try{const s="Pdf_"+(new Date).getTime()+". "+t.type.split("/")[1],n=a.child(e+s);return await n.put(t),await n.getDownloadURL()}catch(e){console.log(e)}}},addToDB=(e,t,a,s,n)=>{userRef.doc(t).set({name:a,email:e,educationLevel:s,photoURL:n,favouriteNotes:[],previouslyVisited:[],contributions:[],created_At:fieldValue.serverTimestamp()}).catch(e=>{console.error("Error writing document: ",e)})},replaceURL=e=>{const t=window.location.origin+e;window.location.replace(t)},authPersist=()=>firebase.auth().setPersistence($("#remember").is(":checked")?firebase.auth.Auth.Persistence.LOCAL:firebase.auth.Auth.Persistence.SESSION),localSet=e=>{localStorage.setItem("userData",JSON.stringify(e))};if(localStorage.getItem("userData")&&"/user-dashboard"!=window.location.pathname){const{uid:e}=JSON.parse(localStorage.getItem("userData"));$("#user-id").val(e)}const localGet=e=>{const t=localStorage.getItem("userData");if(!t)return e&&replaceURL("/login"),toast("w","Please log In to continue");{const{email:e,name:a,photoURL:s,educationLevel:n,emailVerified:o}=JSON.parse(t);if(!o)return toast("w","Please Verify your email to continue"),void replaceURL("/login");window.location.pathname.includes("/user-dashboard")||replaceURL("/user-dashboard"),$(".name-cont").removeClass("d-none"),$(".u-name").text(a),$(".u-email").text(e),$("#u-image").attr("src",s),$("#u-image").removeClass("d-none"),$(".class-cont").removeClass("d-none"),$(".u-class").text(n),loader(!0),"sta98no@gmail.com"!=e?o?$(".not-verified").addClass("d-none"):$(".not-verified").removeClass("d-none"):$(".upload-container").removeClass("d-none")}},loader=e=>e?$(".loader").addClass("d-none"):$(".loader").removeClass("d-none");class Auth{signIn(e,t){authPersist().then(()=>{firebase.auth().signInWithEmailAndPassword(e,t).then(e=>{getUser()}).catch(e=>{const{message:t}=e;loader(!0),t.includes("There is no user record corresponding")?$(".user-not-found").removeClass("d-none"):toast("e",t)})})}signUp(e,t,a,s){authPersist().then(()=>{auth.createUserWithEmailAndPassword(e,s).then(async s=>{const n=s.user,o="https://randomuser.me/api/portraits/lego/5.jpg",{emailVerified:i,uid:l}=n;addToDB(e,l,a,t,o);await n.updateProfile({displayName:a,photoURL:o}),await n.sendEmailVerification(),n.emailVerified||(loader(!0),toast("s","Success: Please Verify your email Address to continue"),setTimeout(()=>{replaceURL("/login")},3e3))}).catch(e=>{const{message:t}=e;loader(!0),t.includes("The email address is already in use")?$(".email-taken").removeClass("d-none"):toast("e",t)})}).catch(e=>{toast("e",e.message)})}gmailAuth(e){authPersist().then(()=>{auth.signInWithPopup(e).then(async e=>{const{displayName:t,email:a,photoURL:s,uid:n,emailVerified:o}=e.user;return await userRef.doc(n).get().then(e=>{if(e.exists){const{educationLevel:s,photoURL:i}=e.data(),l={email:a,name:t,photoURL:i,educationLevel:s,emailVerified:o,uid:n};o?localSet(l):toast("w","Please Verify your email to continue")}else{const e="";addToDB(a,n,t,e,s);const i={email:a,name:t,photoURL:s,educationLevel:e,emailVerified:o,uid:n};o?localSet(i):toast("w","Please Verify your email to continue")}}).catch(e=>{toast("e",e.message)}),o}).then(e=>{e&&(toast("s","Please wait as we redirect you"),setTimeout(()=>{replaceURL("/user-dashboard")},2e3))}).catch(e=>{e.message.includes("Duplicate")?getUser():toast("e",e.message)})}).catch(e=>toast("e",e.message))}resetPassword(e){auth.sendPasswordResetEmail(e).then(e=>toast("s","Please check email for verification Link sent to your email")).catch(e=>{message.includes("There is no user record corresponding")?$(".user-not-found").removeClass("d-none"):toast("e",e.message)})}}const getUser=e=>{auth.onAuthStateChanged(t=>{const{emailVerified:a,uid:s}=t;$("#user-id").val(s),userRef.doc(s).get().then(t=>{const{email:n,educationLevel:o,name:i,photoURL:l}=t.data(),r={uid:s,email:n,educationLevel:o,name:i,photoURL:l,emailVerified:a};if(a&&localSet(r),!a)return toast("w","Please Verify your email to continue"),window.location.pathname.includes("/login")?loader(!0):void replaceURL("/login");a&&localGet(e)})})};$("#dash").click(e=>{e.preventDefault(),localGet()}),window.location.pathname.includes("/user-dashboard")&&(localGet(!0),window.addEventListener("load",e=>{getUser(!0)})),$("#upload-btn").click(e=>{e.preventDefault(),replaceURL("/upload")});const EmailAuth=new Auth,GmailAuth=new Auth;$(".sign-up-form").submit(e=>{e.preventDefault(),$("#password").val()!=$("#conpassword").val()?$(".conpass-error").removeClass("d-none"):$("#agree").is(":checked")?(loader(!1),EmailAuth.signUp($("#email").val(),$("#edu-level").val(),$("#name").val(),$("#password").val())):$(".agree-error").removeClass("d-none")}),$("#agree").change(e=>{$("#agree").is(":checked")&&$(".agree-error").addClass("d-none")}),$(".log-in-form").submit(e=>{e.preventDefault(),$(".user-not-found").addClass("d-none"),loader(!1),EmailAuth.signIn($("#email").val(),$("#password").val())}),$("document").ready(e=>{$("#log-out-btn").click(e=>{e.preventDefault,auth.signOut().then(()=>{localStorage.clear(),replaceURL("")}).catch(e=>toast("e",e.message)),$("#email").focus(e=>{$(".user-not-found").addClass("d-none")})})}),$("#edu-level, #edu-level-log-in").change(e=>{""!=$("#edu-level, #edu-level-log-in").val()?$(".edulevel-error").addClass("d-none"):$(".edulevel-error").removeClass("d-none")}),$(".agree-error").change(e=>{this.checked&&$(".agree-error").aaddClass("d-none")}),$("#g-signup").click(e=>{e.preventDefault(),""==$("#edu-level").val()?$(".edulevel-error").removeClass("d-none"):GmailAuth.gmailAuth(provider)}),$("#g-login").click(e=>{e.preventDefault(),GmailAuth.gmailAuth(provider)}),$(".reset-pass-form").submit(e=>{e.preventDefault();const t=e.target[0].value;EmailAuth.resetPassword(t)}),$("document").ready(e=>{$("#resend").click(async e=>{e.preventDefault();const t=await auth.currentUser;t.sendEmailVerification().then(e=>toast("s","A Verification Email has been sent.")).catch(e=>toast("e",e.message))})}),$("#togglePassword").click(()=>{const e="password"==$("#password").attr("type")?"text":"password";$("#password").attr("type",e),$("#conpassword").attr("type",e),$("#togglePassword").attr("class").split(" ").forEach(e=>{"bi-eye-slash"==e?$("#togglePassword").removeClass("bi-eye-slash").addClass("bi-eye"):"bi-eye"==e&&$("#togglePassword").removeClass("bi-eye").addClass("bi-eye-slash")})}),$("document").ready(e=>{$("#contribute").click(e=>{$(".int-modal").css("display","block")}),$(".edit-profile-btn").click(e=>{$(".u-modal").css("display","block"),$("#user-up-email").html(email)}),$(".close-modal").click(()=>{$(".modal").css("display","none")}),$(window).click(e=>{"modal"==e.target.classList[1]&&$(".modal").css("display","none")}),$(".upload-form").submit(async e=>{e.preventDefault();const{0:t,1:a,2:s,3:n,4:o,5:l}=e.target,r=a.files,d=s.value.split(","),c=n.value.split(","),u=o.value.split(","),h=l.value.split(","),p=Object.values(r),f=t.value;if(d.length==h.length&&p.length==h.length&&p.length==d.length&&p.length==c.length&&p.length==u.length)for($(".upload-form")[0].reset(),loader(!1),i=0;i<p.length;i++){const e=await addToStorage("pdf-files/",p[i],type="files"),t=d[i],a=h[i],s=c[i],n=u[i];await db.collection("resources").add({title:t,description:a,fileURL:e,className:s,subject:n,created_At:fieldValue.serverTimestamp()}).then(async e=>{""!=f&&await db.collection("users").doc(f).update({contributions:firebase.firestore.FieldValue.arrayUnion({id:e.id,title:t})}),i==p.length-1&&(loader(!0),toast("s","Successfully uploaded data to firebase"))}).catch(e=>{i==p.length-1&&(loader(!0),toast("e",e.message)),console.error("Error writing document: ",error)})}else toast("e","Please Ensure that there are equal titles, descriptions and images",custom=!0)}),$(".update-form").submit(e=>{e.preventDefault();const t=e.target[0].value,a=e.target[1].value,s=e.target[2].value,n=e.target[3].files[0];$(".update-form")[0].reset(),$(".infor-update-loader, .updating").removeClass("d-none");const o=(e,t,a)=>{e.updateProfile(t).then(()=>{userRef.doc(e.uid).update(a).then(e=>{$(".infor-update-loader, .updating").addClass("d-none"),toast("s","Profile Updated Successfully."),getUser()}).catch(e=>toast("e",e.message))})},i=(e,t)=>{$(".infor-update-loader, .updating").removeClass("d-none"),userRef.doc(e.uid).update(t).then(e=>{$(".infor-update-loader, .updating").addClass("d-none"),toast("s","Profile Updated Successfully."),getUser()}).catch(e=>{$(".infor-update-loader, .updating").addClass("d-none"),toast("e",e.message)})};auth.onAuthStateChanged(async e=>{if(t&&(auth.currentUser.updateEmail(t),o(e,{email:t},{email:t})),a&&o(e,{displayName:a},{name:a}),s&&i(e,{educationLevel:s}),n){const t=await addToStorage(e.uid+"/profilePicture/",n);o(e,{photoURL:t},{photoURL:t})}t&&a&&s&&n&&o(e,{displayName:a,email:t,photoURL:photoURL},{name:a,email:t,educationLevel:s,photoURL:photoURL})})})});const addToDashView=(e,t)=>{const{id:a,title:s}=e,n=`\n       <div>\n     <a href='#'  id=${a} onclick="toFile(this)"><img  src='/assets/img/graduation-illustration.png' class="img-fluid img-thumbnail file-img" alt="Graduation Image" height="100" /> </a>\n     <h3 class="file-title">${s}</h3>\n    </div>\n  </div>\n           `;t?$(".prev-holder").append(n):($(".fave-load").addClass("d-none"),$(".fave-holder").append(n))},favouriteFileHandler=(e=!1,t)=>{if(!localStorage.getItem("userData"))return;const{uid:a}=JSON.parse(localStorage.getItem("userData")),s=localStorage.getItem("fileId"),n=userRef.doc(a),o=2*(t-1),i=2*t;n.get().then(t=>{const a=t.data().favouriteNotes,l=t.data().previouslyVisited,r=t.data().contributions;if(r?($(".contributions-loader").addClass("d-none"),r.map(e=>{const{id:t,title:a}=e;$(".contribution-info-cont").append(`\n       <div class="mb-2" >\n     <a href='#'  id=${t} onclick="toFile(this)"><img  src='/assets/img/graduation-illustration.png' class="img-fluid img-thumbnail file-img" alt="Graduation Image" height="100" /> </a>\n     <h3 class="file-title">${a}</h3>\n    </div>\n  </div>\n           `)})):($(".contributions-loader").addClass("d-none"),$(".contribution-info-cont").append("<p class='text-center font-weight-bold'>There's Nothing In This View</p>")),0==l.length)$(".prev-load").addClass("d-none"),$(".prev-holder").html("<p class='text-center font-weight-bold'>There's Nothing In This View</p>");else{const e=l.slice(o,i);$(".prev-load").addClass("d-none"),e.map(e=>addToDashView(e,!0)),l.length>2&&$("#prev-btns").pagination({total:l.length,...jqueryPaginationData,length:2,click:function(e){$(".prev-holder").empty(),$(".prev-load").removeClass("d-none");const t=l.slice(2*(e.current-1),2*e.current);$(".prev-load").addClass("d-none");for(let e of t)addToDashView(e,!0)}})}if(0==a.length)$(".fave-load").addClass("d-none"),$(".fave-holder").html("<p class='text-center font-weight-bold'>There's Nothing In This View</p>");else{const e=a.slice(o,i);e.map(e=>addToDashView(e,!1)),$("#fave-btns").pagination({total:a.length,...jqueryPaginationData,length:2,click:function(e){$(".fave-holder").empty(),$(".fave-load").removeClass("d-none");const t=a.slice(2*(e.current-1),2*e.current);t.map(e=>addToDashView(e,!1))}})}if(e)for(let e of a)e.id==s&&$(".fav-icon").hasClass("bi-heart")&&$(".fav-icon").removeClass("bi-heart").addClass("bi-heart-fill");else if($(".fav-icon").hasClass("bi-heart"))resourcesRef.doc(s).get().then(e=>{const{title:t,fileURL:a}=e.data(),o={id:s,fileURL:a,title:t};n.get().then(e=>{const t=e.data().favouriteNotes,a=t.concat(o);$(".fav-spin").removeClass("d-none"),$(".fav-icon").addClass("d-none"),$(".fav-icon").removeClass("bi-heart").addClass("bi-heart-fill"),n.update({favouriteNotes:a}).then(e=>{$(".fav-spin").addClass("d-none"),$(".fav-icon").removeClass("d-none"),$(".fav-icon").removeClass("bi-heart").addClass("bi-heart-fill")}).catch(e=>{toast("e",e.message),$(".fav-spin").addClass("d-none"),$(".fav-icon").removeClass("d-none"),$(".fav-icon").addClass("bi-heart").removeClass("bi-heart-fill")})})}).catch(e=>{toast("e",e.message),$(".fav-spin").addClass("d-none"),$(".fav-icon").removeClass("d-none"),$(".fav-icon").addClass("bi-heart").removeClass("bi-heart-fill")});else{$(".fav-icon").removeClass("bi-heart-fill").addClass("bi-heart"),$(".fav-spin").removeClass("d-none"),$(".fav-icon").addClass("d-none");const e=a.findIndex(e=>e.id==data.id);for(let t of a)t.id==data.id&&(a.splice(e,1),n.update({favouriteNotes:a}).then(e=>{$(".fav-spin").addClass("d-none"),$(".fav-icon").removeClass("d-none")}).catch(e=>{$(".fav-spin").addClass("d-none"),$(".fav-icon").removeClass("d-none"),$(".fav-icon").addClass("bi-heart").removeClass("bi-heart-fill"),console.log(e)}))}}).catch(e=>console.log(e))};(window.location.pathname.includes("/file")||window.location.pathname.includes("/user-dashboard"))&&favouriteFileHandler(onload=!0,1),$(".fav-icon").click(e=>{if(!localStorage.getItem("userData"))return toast("w","Please log in to continue");favouriteFileHandler()});let i=0;for(;i<3;)$(".skeleton-loader-resources").append(' <div>\n    <div class="skeleton-loader"></div>\n    <div class="skeleton-loader"></div>\n    <div class="skeleton-loader"></div>\n    <div class="skeleton-loader"></div>\n    <div class="skeleton-loader"></div>\n  </div>'),i++;const addToView=(e,t=!1)=>{const a=$(".main-content"),{title:s,description:n,created_At:o,subject:i,className:l}=t?e.data:e.data(),r=e.id,d=`\n       <div>\n     <a href='#' id=${r} onclick="toFile(this)"><img  src='/assets/img/graduation-illustration.png' class="img-fluid img-thumbnail file-img" alt="Graduation Image"  height="100" /> </a>\n     <h3>${s}</h3>\n      <p>\n        <b>Subject:</b>\n        <span>${i}</span>\n      </p>\n      <p>\n        <b>Class:</b>\n        <span>${l}</span>\n      </p>\n       <p>\n        <b>Description:</b>\n        <span>${n}</span>\n      </p>  \n      <p class='d-none doc-id'>${r}</p>\n    </div>\n  </div>\n           `;a.append(d)};var fuse;const fetchData=e=>{const t="created_At",a=6,s=(e-1)*a,n=a*e;resourcesRef.orderBy(t).get().then(e=>{const t=e.docs,a=t.map(e=>({id:e.id,data:e.data()}));fuse=new FuseSearch(a,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["data.title","data.description"]}),$(".main-content").empty();const o=t.slice(s,n);$(".skeleton-loader-resources").addClass("d-none"),o.map(e=>addToView(e))}).catch(e=>{const t=e.message;t.includes("Could not reach Firesto")?toast("e","Please check your intenet connectivity",custom=!0):toast("e",t),$(".skeleton-loader-resources").removeClass("d-none")})};class FuseSearch{constructor(e,t){this.data=e,this.options=t,this.fuse=new Fuse(this.data,this.options)}search(e){return this.fuse.search(e)}getLength(){return this.fuse.getIndex().size()}}const jqueryPaginationData={current:1,length:6,size:2,prev:"&lt;",next:"&gt;"},btnCont=$("#pagination-btns"),pageBtns=(e=!1,t)=>{if(e)return btnCont.empty(),void btnCont.pagination({total:t.length,...jqueryPaginationData,click:function(a){fetchData(a.current,e,t)}});resourcesRef.get().then(e=>{btnCont.pagination({total:e.size,...jqueryPaginationData,click:function(e){fetchData(e.current)}})})},fetchPageData=(e,t,a)=>{if($(".skeleton-loader-resources").removeClass("d-none"),$(".main-content").empty(),!t)return fetchData(e);const s=a.slice(6*(pageNumber-1),6*pageNumber);s.map(e=>addToView(e.item,t))};fetchData(1),pageBtns();const toFile=e=>{const t=e.id;$(e).attr("id");if(localStorage.setItem("fileId",t),!localStorage.getItem("userData"))return void replaceURL("/file");const{uid:a}=JSON.parse(localStorage.getItem("userData"));replaceURL("/file")},filePageHandler=()=>{if(!window.localStorage)return void toast("e","Please enable local storage to download files");const e=localStorage.getItem("fileId");resourcesRef.doc(e).get().then(t=>{const{title:a,fileURL:s}=t.data();if(setTimeout(()=>{$(".file-loader").addClass("d-none"),$(".resource-container").removeClass("d-none"),$(".file-title").text(a)},4e3),$(".file-img").attr("src",s),$(".file-img").attr("alt",a),!localStorage.getItem("userData"))return;const{uid:n}=JSON.parse(localStorage.getItem("userData")),o=userRef.doc(n);o.get().then(t=>{const{previouslyVisited:n}=t.data(),i={id:e,fileURL:s,title:a};for(let t of n)if(t.id==e)return;const l=n.unshift(i);l>6&&n.pop(),o.update({previouslyVisited:n})})}).catch(e=>{toast("e","Could not load file, please retry",custom=!0),setTimeout(()=>{replaceURL("/resources")},2e3)})};window.location.pathname.includes("/file")&&filePageHandler();const searchData=e=>{if(""===e)return $(".skeleton-loader-resources").removeClass("d-none"),$(".main-content").empty(),pageBtns(),fetchData(1);btnCont.empty(),$(".skeleton-loader-resources").removeClass("d-none");const t=fuse.search(e);if($(".main-content").empty(),0===t.length)return $(".skeleton-loader-resources").addClass("d-none"),$(".main-content").html("<h3>No results found</h3>"),void btnCont.empty();$(".skeleton-loader-resources").addClass("d-none");const a=t.slice(0,6);a.map(e=>addToView(e.item,search=!0)),t.length>6&&pageBtns(search=!0,t)};$("#resource-search").on("input",e=>{searchData(e.target.value)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"function"==typeof define&&define.cmd?define(function(t,a,s){e(t("jquery"))}):e(jQuery)}(function(e){"use strict";var t=function(a,s){this.$target=a,this.options=e.extend({},t.DEFAULTS,this.$target.data("pagination"),"object"==typeof s&&s),this.init()};t.VERSION="1.4.0",t.DEFAULTS={total:1,current:1,length:10,size:2,prev:"&lt;",next:"&gt;",click:function(e){}},t.prototype={init:function(){if(this.options.total<1&&(this.options.total=1),this.options.current<1&&(this.options.current=1),this.options.length<1&&(this.options.length=1),this.options.current>Math.ceil(this.options.total/this.options.length)&&(this.options.current=Math.ceil(this.options.total/this.options.length)),this.options.size<1&&(this.options.size=1),"function"==typeof this.options.ajax){var e=this;this.options.ajax({current:e.options.current,length:e.options.length,total:e.options.total},function(t){return e.refresh(t)},e.$target)}else this.render();this.onClick()},render:function(){var e=this.options,t=this.$target;t.empty(),t.append('<li><a herf="javascript:void(0)" data-page="prev">'+e.prev+"</a></li>");var a=this.getPages();a.start>1&&(t.append('<li><a herf="javascript:void(0)" data-page="1">1</a></li>'),t.append("<li><span>...</span></li>"));for(var s=a.start;s<=a.end;s++)t.append('<li><a herf="javascript:void(0)" data-page="'+s+'">'+s+"</a></li>");a.end<Math.ceil(e.total/e.length)&&(t.append("<li><span>...</span></li>"),t.append('<li><a herf="javascript:void(0)" data-page="'+Math.ceil(e.total/e.length)+'">'+Math.ceil(e.total/e.length)+"</a></li>")),t.append('<li><a herf="javascript:void(0)" data-page="next">'+e.next+"</a></li>"),t.find('li>a[data-page="'+e.current+'"]').parent().addClass("active"),e.current<=1&&t.find('li>a[data-page="prev"]').parent().addClass("disabled"),e.current>=Math.ceil(e.total/e.length)&&t.find('li>a[data-page="next"]').parent().addClass("disabled")},getPages:function(){var e=(this.$target,this.options),t=e.current-e.size,a=e.current+e.size;return e.current>=Math.ceil(e.total/e.length)-e.size&&(t-=e.current-Math.ceil(e.total/e.length)+e.size),e.current<=e.size&&(a+=e.size-e.current+1),t<1&&(t=1),a>Math.ceil(e.total/e.length)&&(a=Math.ceil(e.total/e.length)),{start:t,end:a}},onClick:function(){var t=this.$target,a=this.options,s=this;t.off("click"),t.on("click",">li>a[data-page]",function(n){if(!e(this).parent().hasClass("disabled")&&!e(this).parent().hasClass("active")){var o=e(this).data("page");switch(o){case"prev":a.current>1&&a.current--;break;case"next":a.current<Math.ceil(a.total)&&a.current++;break;default:o=parseInt(o),isNaN(o)||(a.current=parseInt(o))}var i={current:a.current,length:a.length,total:a.total};"function"==typeof a.ajax?a.ajax(i,function(e){return s.refresh(e)},t):s.render(),a.click(i,t)}})},refresh:function(e){"object"==typeof e&&(e.total&&(this.options.total=e.total),e.length&&(this.options.length=e.length)),this.render()}},e.fn.pagination=function(a){return this.each(function(){e(this).data("pagination",new t(e(this),a))}),this}}),window.location.href.includes("dashboard")&&$(document).ready(()=>{!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"function"==typeof define&&define.cmd?define(function(t,a,s){e(t("jquery"))}):e(jQuery)}(function(e){"use strict";var t=function(a,s){this.$target=a,this.options=e.extend({},t.DEFAULTS,this.$target.data("pagination"),"object"==typeof s&&s),this.init()};t.VERSION="1.4.0",t.DEFAULTS={total:1,current:1,length:10,size:2,prev:"&lt;",next:"&gt;",click:function(e){}},t.prototype={init:function(){if(this.options.total<1&&(this.options.total=1),this.options.current<1&&(this.options.current=1),this.options.length<1&&(this.options.length=1),this.options.current>Math.ceil(this.options.total/this.options.length)&&(this.options.current=Math.ceil(this.options.total/this.options.length)),this.options.size<1&&(this.options.size=1),"function"==typeof this.options.ajax){var e=this;this.options.ajax({current:e.options.current,length:e.options.length,total:e.options.total},function(t){return e.refresh(t)},e.$target)}else this.render();this.onClick()},render:function(){var e=this.options,t=this.$target;t.empty(),t.append('<li><a herf="javascript:void(0)" data-page="prev">'+e.prev+"</a></li>");var a=this.getPages();a.start>1&&(t.append('<li><a herf="javascript:void(0)" data-page="1">1</a></li>'),t.append("<li><span>...</span></li>"));for(var s=a.start;s<=a.end;s++)t.append('<li><a herf="javascript:void(0)" data-page="'+s+'">'+s+"</a></li>");a.end<Math.ceil(e.total/e.length)&&(t.append("<li><span>...</span></li>"),t.append('<li><a herf="javascript:void(0)" data-page="'+Math.ceil(e.total/e.length)+'">'+Math.ceil(e.total/e.length)+"</a></li>")),t.append('<li><a herf="javascript:void(0)" data-page="next">'+e.next+"</a></li>"),t.find('li>a[data-page="'+e.current+'"]').parent().addClass("active"),e.current<=1&&t.find('li>a[data-page="prev"]').parent().addClass("disabled"),e.current>=Math.ceil(e.total/e.length)&&t.find('li>a[data-page="next"]').parent().addClass("disabled")},getPages:function(){var e=(this.$target,this.options),t=e.current-e.size,a=e.current+e.size;return e.current>=Math.ceil(e.total/e.length)-e.size&&(t-=e.current-Math.ceil(e.total/e.length)+e.size),e.current<=e.size&&(a+=e.size-e.current+1),t<1&&(t=1),a>Math.ceil(e.total/e.length)&&(a=Math.ceil(e.total/e.length)),{start:t,end:a}},onClick:function(){var t=this.$target,a=this.options,s=this;t.off("click"),t.on("click",">li>a[data-page]",function(n){if(!e(this).parent().hasClass("disabled")&&!e(this).parent().hasClass("active")){var o=e(this).data("page");switch(o){case"prev":a.current>1&&a.current--;break;case"next":a.current<Math.ceil(a.total)&&a.current++;break;default:o=parseInt(o),isNaN(o)||(a.current=parseInt(o))}var i={current:a.current,length:a.length,total:a.total};"function"==typeof a.ajax?a.ajax(i,function(e){return s.refresh(e)},t):s.render(),a.click(i,t)}})},refresh:function(e){"object"==typeof e&&(e.total&&(this.options.total=e.total),e.length&&(this.options.length=e.length)),this.render()}},e.fn.pagination=function(a){return this.each(function(){e(this).data("pagination",new t(e(this),a))}),this}})});